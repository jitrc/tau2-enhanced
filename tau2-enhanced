#!/usr/bin/env python3
"""
tau2-enhanced CLI wrapper that provides enhanced logging capabilities.
"""

import sys
import os
from pathlib import Path

def main():
    # Import tau2_enhanced first to register enhanced domains
    try:
        import tau2_enhanced
        print("✅ tau2-enhanced domains loaded successfully")
    except ImportError as e:
        print(f"❌ Failed to load tau2-enhanced: {e}")
        sys.exit(1)

    # Parse command line arguments to determine if we should use enhanced runner
    args = sys.argv[1:]

    if len(args) > 0 and args[0] == "run":
        # Use enhanced runner for 'run' command
        from tau2_enhanced.cli import enhanced_main
        enhanced_main(args[1:])  # Pass remaining arguments
    else:
        # Fall back to standard tau2 CLI for other commands
        from tau2.cli import main as tau2_main
        tau2_main()

if __name__ == "__main__":
    main()